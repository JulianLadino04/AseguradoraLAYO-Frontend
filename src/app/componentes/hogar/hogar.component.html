<section class="py-5 container">
  <h1 class="text-center mb-4">Cotización de Seguro de Hogar</h1>
  <div class="col-md-12 mt-3">
    <div class="w-100 d-flex justify-content-center pb-4">
      <button [ngClass]="viewForm?'btn btn-danger':'btn btn-success'" class="mt-4"
        (click)="toggleVerForm()">{{viewFormBtn}}</button>
    </div>
    <form *ngIf="viewForm" class="row g-4 needs-validation" [formGroup]="cotizacionHogarForm" (ngSubmit)="crearCotizacionHogar()"
      novalidate>
      <div class="row g-3">
        <!-- Aseguradora -->
        <div class="col-md-6 text-start">
          <label class="form-label">Aseguradora</label>
          <select class="form-select" formControlName="aseguradora">
            <option value="" disabled selected>Selecciona una aseguradora</option>
            @for (aseguradora of aseguradoras; track aseguradora) {
            <option [value]="aseguradora">{{ aseguradora }}</option>
            } @empty {
            <option disabled>No hay aseguradoras disponibles</option>
            }
          </select>
        </div>


        <!-- Valor Comercial -->
        <div class="col-md-6 text-start">
          <label class="form-label">Valor Comercial</label>
          <input type="number" class="form-control" formControlName="valorComercial" placeholder="Valor Comercial">
          @if (cotizacionHogarForm.get('valorComercial')?.touched &&
          cotizacionHogarForm.get('valorComercial')?.hasError('min')) {
          <div class="alert alert-danger" role="alert">El valor comercial debe ser mayor que 0.</div>
          }
        </div>

        <!-- Valor Eléctrico -->
        <div class="col-md-6 text-start">
          <label class="form-label">Valor Eléctrico</label>
          <input type="number" class="form-control" formControlName="valorElectrico" placeholder="Valor Eléctrico">
          @if (cotizacionHogarForm.get('valorElectrico')?.touched &&
          cotizacionHogarForm.get('valorElectrico')?.hasError('min')) {
          <div class="alert alert-danger" role="alert">El valor eléctrico debe ser mayor que 0.</div>
          }
        </div>

        <!-- Valor de Muebles -->
        <div class="col-md-6 text-start">
          <label class="form-label">Valor de Muebles</label>
          <input type="number" class="form-control" formControlName="valorMuebles" placeholder="Valor de Muebles">
          @if (cotizacionHogarForm.get('valorMuebles')?.touched &&
          cotizacionHogarForm.get('valorMuebles')?.hasError('min')) {
          <div class="alert alert-danger" role="alert">El valor de muebles debe ser mayor que 0.</div>
          }
        </div>

        <!-- Botones -->
        <div class="col-12 text-center">
          <button class="btn btn-success mt-4 me-2" type="submit">Solicitar Cotización</button>

        </div>
      </div>
    </form> <!-- El cierre correcto aquí -->
    <br/>
    <app-admin-hogar></app-admin-hogar>
    <div class="w-100 d-flex justify-content-center pb-4">
      <button class="btn btn-danger mt-4" (click)="volver()">Volver</button>
    </div>

  </div>
</section>